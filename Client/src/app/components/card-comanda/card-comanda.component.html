<div class="comanda-card" [ngClass]="'status--' + comanda.status" [class.minimizado]="minimizado">

  @if (!minimizado) {
  <ng-container>
    <header class="comanda-card__header">
      <h3 class="header__title">{{ comanda.titulo }}</h3>
      <span class="header__status-tag">{{ comanda.status }}</span>
    </header>
    <main class="comanda-card__body">
      <div class="data-point">
        <span class="data-point__label">Valor Total</span>
        <span class="data-point__value">{{ comanda.valorTotal | currency:'BRL' }}</span>
      </div>
      <div class="data-point">
        <span class="data-point__label">Quantidade de Trocas</span>
        <span class="data-point__value data-point__value--small">{{ comanda.quantidadeTrocas }}</span>
      </div>
    </main>
    <footer class="comanda-card__actions">
      <button class="action-button" title="Adicionar Troca" (click)="onAdicionarTroca()">
        <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
      </button>
      <button class="action-button" title="Encerrar Comanda" (click)="onEncerrarComanda()" [disabled]="comanda.status === 'fechada'">
        <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
      </button>
      <button class="action-button" title="Emitir Relatório" (click)="onEmitirComanda()">
        <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></svg>
      </button>
    </footer>
  </ng-container>
} @else {
  <ng-container>
    <span class="minimizado__title">{{ comanda.titulo }}</span>
    <button class="action-button" title="Emitir Relatório" (click)="onEmitirComanda()">
      <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/></svg>
    </button>
  </ng-container>
  }
</div>